<script>
async function addProduct() {
  const token = localStorage.getItem("token");
  if (!token) {
    alert("Please login again");
    location.href = "/admin/login.html";
    return;
  }

  const form = document.getElementById("productForm");
  const data = new FormData(form);

  const res = await fetch("/api/admin/product", {
    method: "POST",
    headers: {
      "Authorization": "Bearer " + token
    },
    body: data
  });

  if (!res.ok) {
    alert("Error adding product");
    return;
  }

  alert("Product added");
  form.reset();
}
</script>
<button onclick="addProduct()">Add Product</button>
